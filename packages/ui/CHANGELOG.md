# Change Log

All notable changes to this project will be documented in this file.
See [Conventional Commits](https://conventionalcommits.org) for commit guidelines.

# [3.1.0](https://github.com/neontribe/gbptm/compare/v3.0.0...v3.1.0) (2019-11-28)


### Bug Fixes

* add cross-env ([1935f64](https://github.com/neontribe/gbptm/commit/1935f64))
* get history to fill some variables when the location changes ([5a0a68f](https://github.com/neontribe/gbptm/commit/5a0a68f))
* put pagetitle in instead of pathname ([fe5a6fe](https://github.com/neontribe/gbptm/commit/fe5a6fe))


### Features

* disable save button when preferences haven't been changed ([a49e293](https://github.com/neontribe/gbptm/commit/a49e293))
* track client-side pageViews ([9518028](https://github.com/neontribe/gbptm/commit/9518028))





# [3.0.0](https://github.com/neontribe/gbptm/compare/v2.9.0...v3.0.0) (2019-10-14)


### Bug Fixes

* access geometry correctly ([76f040c](https://github.com/neontribe/gbptm/commit/76f040c))
* apostrophe ([6727301](https://github.com/neontribe/gbptm/commit/6727301))
* apply config to tracking ([9cbd152](https://github.com/neontribe/gbptm/commit/9cbd152))
* apply config to tracking ([5212713](https://github.com/neontribe/gbptm/commit/5212713))
* call api context ([cde4809](https://github.com/neontribe/gbptm/commit/cde4809))
* clean up envs ([b96d126](https://github.com/neontribe/gbptm/commit/b96d126))
* comment out broken JS ([450222f](https://github.com/neontribe/gbptm/commit/450222f))
* conv str to null value so field removed in mongoose ([708f44d](https://github.com/neontribe/gbptm/commit/708f44d))
* correct 'in to' to 'into' ([f91cc2c](https://github.com/neontribe/gbptm/commit/f91cc2c))
* correct proxy URL for local dev environment ([afbf9ce](https://github.com/neontribe/gbptm/commit/afbf9ce))
* corrected lint warnings ([dcc7e8b](https://github.com/neontribe/gbptm/commit/dcc7e8b))
* correctly wire up tracking config ([e43cffe](https://github.com/neontribe/gbptm/commit/e43cffe))
* dep updates ([6bfd9d8](https://github.com/neontribe/gbptm/commit/6bfd9d8))
* deps ([c5c3b71](https://github.com/neontribe/gbptm/commit/c5c3b71))
* deps ([db634d6](https://github.com/neontribe/gbptm/commit/db634d6))
* deps ([8e60716](https://github.com/neontribe/gbptm/commit/8e60716))
* deps up ([da82142](https://github.com/neontribe/gbptm/commit/da82142))
* ensure versions are exact ([579b4db](https://github.com/neontribe/gbptm/commit/579b4db))
* import default correctly ([12d035a](https://github.com/neontribe/gbptm/commit/12d035a))
* improve button styles ([c0afbad](https://github.com/neontribe/gbptm/commit/c0afbad))
* leaflet L global for adobe scripts ([9c0a5c3](https://github.com/neontribe/gbptm/commit/9c0a5c3))
* move to axios to allow cypress testing ([0be52a9](https://github.com/neontribe/gbptm/commit/0be52a9))
* no post report navigation till after refetch ([e467467](https://github.com/neontribe/gbptm/commit/e467467))
* opt-in ([47a4aa0](https://github.com/neontribe/gbptm/commit/47a4aa0))
* package updates ([8fdab8e](https://github.com/neontribe/gbptm/commit/8fdab8e))
* package.json include api ([7265d65](https://github.com/neontribe/gbptm/commit/7265d65))
* position the popup better and show a white overlay ([90bdd8b](https://github.com/neontribe/gbptm/commit/90bdd8b))
* refetch nearby loos after reporting ([3fda105](https://github.com/neontribe/gbptm/commit/3fda105))
* reflect tristate values in form ([d114af8](https://github.com/neontribe/gbptm/commit/d114af8))
* remove now unnecessary first <p> that we missed ([2942604](https://github.com/neontribe/gbptm/commit/2942604))
* remove unused div ([53477d7](https://github.com/neontribe/gbptm/commit/53477d7))
* scroll to cookie message ([e55a731](https://github.com/neontribe/gbptm/commit/e55a731))
* update adobe script ([c98b19c](https://github.com/neontribe/gbptm/commit/c98b19c))
* update copy as per Gail's email ([3b3fb64](https://github.com/neontribe/gbptm/commit/3b3fb64))
* update cypress tests to work with new site flow ([a20dd69](https://github.com/neontribe/gbptm/commit/a20dd69))
* update dependencies ([dc0369e](https://github.com/neontribe/gbptm/commit/dc0369e))
* update dependencies ([c89240f](https://github.com/neontribe/gbptm/commit/c89240f))
* update deps ([c6ae63e](https://github.com/neontribe/gbptm/commit/c6ae63e))
* updated copy to be more accurate ([6d3aab8](https://github.com/neontribe/gbptm/commit/6d3aab8))
* updeps ([d283a31](https://github.com/neontribe/gbptm/commit/d283a31))
* updeps ([d6a9107](https://github.com/neontribe/gbptm/commit/d6a9107))


### Features

* add cookie copy and change ux options ([6c1f4af](https://github.com/neontribe/gbptm/commit/6c1f4af))
* enable adobe tracking locally ([4d14bbe](https://github.com/neontribe/gbptm/commit/4d14bbe))
* **#415:** add initial tracking scripts and popup ([7a3ef69](https://github.com/neontribe/gbptm/commit/7a3ef69)), closes [#415](https://github.com/neontribe/gbptm/issues/415)
* **#415:** remember tracking settings ([17b12b5](https://github.com/neontribe/gbptm/commit/17b12b5)), closes [#415](https://github.com/neontribe/gbptm/issues/415)
* **#415:** unobstruct user when presenting cookie choices ([ec781d1](https://github.com/neontribe/gbptm/commit/ec781d1)), closes [#415](https://github.com/neontribe/gbptm/issues/415)
* add 404 page ([34fdf87](https://github.com/neontribe/gbptm/commit/34fdf87))
* add report id list to loo schema ([baf063d](https://github.com/neontribe/gbptm/commit/baf063d))
* cleaner schema ([e8519c4](https://github.com/neontribe/gbptm/commit/e8519c4))
* cypress overhaul ([cfd4456](https://github.com/neontribe/gbptm/commit/cfd4456))
* graphql+ts client ([0d35ac1](https://github.com/neontribe/gbptm/commit/0d35ac1))
* link from loo to explorer ([bdd3467](https://github.com/neontribe/gbptm/commit/bdd3467))
* login before form-filling ([eeb92b6](https://github.com/neontribe/gbptm/commit/eeb92b6))
* move api client funcs into package ([ef624dc](https://github.com/neontribe/gbptm/commit/ef624dc))
* move to new data structures ([ab17e0e](https://github.com/neontribe/gbptm/commit/ab17e0e))
* remove technical data from ui ([f6d2537](https://github.com/neontribe/gbptm/commit/f6d2537))
* test adding loos ([bf47c82](https://github.com/neontribe/gbptm/commit/bf47c82))
* test map rendering correctly by matching snapshot to stored image ([33418f1](https://github.com/neontribe/gbptm/commit/33418f1))
* wip ([fc56d3a](https://github.com/neontribe/gbptm/commit/fc56d3a))


### BREAKING CHANGES

* requires full database migration, see the migrate
package





# [2.9.0](https://github.com/neontribe/gbptm/compare/v2.8.0...v2.9.0) (2018-11-27)


### Bug Fixes

* rerender edit page after fetch ([14a52c7](https://github.com/neontribe/gbptm/commit/14a52c7)), closes [#295](https://github.com/neontribe/gbptm/issues/295)
* spelling errors ([569af20](https://github.com/neontribe/gbptm/commit/569af20))
* update deps ([b05e25f](https://github.com/neontribe/gbptm/commit/b05e25f))


### Features

* alert user to updates ([305d72d](https://github.com/neontribe/gbptm/commit/305d72d))
* alert user to updates ([110ff9e](https://github.com/neontribe/gbptm/commit/110ff9e))
* privacy policy ([18bbe40](https://github.com/neontribe/gbptm/commit/18bbe40))





# [2.8.0](https://github.com/neontribe/gbptm/compare/v2.7.0...v2.8.0) (2018-10-11)


### Features

* useourloos page ([9832fb7](https://github.com/neontribe/gbptm/commit/9832fb7))





<a name="2.7.0"></a>
# [2.7.0](https://github.com/neontribe/gbptm/compare/v2.6.0...v2.7.0) (2018-09-08)


### Bug Fixes

* annoyingly fix linting eerrors for cra build ([d459b63](https://github.com/neontribe/gbptm/commit/d459b63))
* fix method & data used when deleting pending loos ([699bc71](https://github.com/neontribe/gbptm/commit/699bc71))
* move & build leaflet-control-geocoder as package ([e54c8ed](https://github.com/neontribe/gbptm/commit/e54c8ed))
* stay on react-scripts@next ([f593db3](https://github.com/neontribe/gbptm/commit/f593db3))
* tag commit which fixes evt propogation issue ([7d59c13](https://github.com/neontribe/gbptm/commit/7d59c13))
* tag commit which fixes evt propogation issue ([a251ae4](https://github.com/neontribe/gbptm/commit/a251ae4))
* update deps ([7190702](https://github.com/neontribe/gbptm/commit/7190702))





<a name="2.6.0"></a>
# [2.6.0](https://github.com/neontribe/gbptm/compare/v2.5.0...v2.6.0) (2018-08-24)


### Bug Fixes

* clearly invite business owners ([16f9c48](https://github.com/neontribe/gbptm/commit/16f9c48))
* issue 316 typo ([0e1abb4](https://github.com/neontribe/gbptm/commit/0e1abb4))
* no search box on toilet add page ([c9092e7](https://github.com/neontribe/gbptm/commit/c9092e7))
* shrink header on small viewports ([c8be0a6](https://github.com/neontribe/gbptm/commit/c8be0a6))
* use mapControls rather than geolocation ([89849f8](https://github.com/neontribe/gbptm/commit/89849f8)), closes [#301](https://github.com/neontribe/gbptm/issues/301)


### Features

* allow linking to locations ([ffa235f](https://github.com/neontribe/gbptm/commit/ffa235f))
* join use our loos ([fec82f2](https://github.com/neontribe/gbptm/commit/fec82f2))
* say thank you nicely ([69f47a7](https://github.com/neontribe/gbptm/commit/69f47a7))
* say thank you nicely ([067648e](https://github.com/neontribe/gbptm/commit/067648e))
* thanks page 101 ([759d9b4](https://github.com/neontribe/gbptm/commit/759d9b4))




<a name="2.5.0"></a>
# [2.5.0](https://github.com/neontribe/gbptm/compare/v2.4.0...v2.5.0) (2018-08-06)


### Bug Fixes

* simple fallback in the event of geolocation failure ([3f4cae6](https://github.com/neontribe/gbptm/commit/3f4cae6))


### Features

* domestos use-our-loos campaign ([63a0341](https://github.com/neontribe/gbptm/commit/63a0341))




<a name="2.4.0"></a>
# [2.4.0](https://github.com/neontribe/gbptm/compare/v2.3.0...v2.4.0) (2018-08-02)


### Bug Fixes

* package upgrades ([be89ceb](https://github.com/neontribe/gbptm/commit/be89ceb))


### Features

* add meta description ([81e2cc3](https://github.com/neontribe/gbptm/commit/81e2cc3))
* add robots.txt ([c5d5643](https://github.com/neontribe/gbptm/commit/c5d5643))




<a name="2.3.0"></a>
# [2.3.0](https://github.com/neontribe/gbptm/compare/v2.2.0...v2.3.0) (2018-08-02)


### Bug Fixes

* add array.prototype.find polyfill for IE support ([0946da1](https://github.com/neontribe/gbptm/commit/0946da1))
* add viewBox attr to svg's ([9d78354](https://github.com/neontribe/gbptm/commit/9d78354))
* arbitrate analytics key correctly ([290a0a5](https://github.com/neontribe/gbptm/commit/290a0a5))
* avoid overlapping IE11 sidebar text ([5e7130c](https://github.com/neontribe/gbptm/commit/5e7130c))
* be less specific about what a small viewport is ([b71f8e0](https://github.com/neontribe/gbptm/commit/b71f8e0))
* change diffing and derivation citing ([9160351](https://github.com/neontribe/gbptm/commit/9160351))
* clear pin highlight when navigating away from the homepage ([08c333a](https://github.com/neontribe/gbptm/commit/08c333a)), closes [#221](https://github.com/neontribe/gbptm/issues/221)
* correct bad merge ([cbd80b8](https://github.com/neontribe/gbptm/commit/cbd80b8))
* disable submit button instead of doing nothing with no changes ([3068811](https://github.com/neontribe/gbptm/commit/3068811))
* display crosshair on add/edit ([02c4644](https://github.com/neontribe/gbptm/commit/02c4644))
* don't humanize already human-readable values ([b83ee98](https://github.com/neontribe/gbptm/commit/b83ee98))
* don't pander to an edge case in our data ([78564c1](https://github.com/neontribe/gbptm/commit/78564c1))
* fetch loos whenever NearestLooMap needs & key loo list items right ([923b44a](https://github.com/neontribe/gbptm/commit/923b44a))
* fill remaining viewport with map ([674fae7](https://github.com/neontribe/gbptm/commit/674fae7))
* handle sidebar overflow on FF ([0208264](https://github.com/neontribe/gbptm/commit/0208264))
* horrific fix for horrific z-index bug ([9181c05](https://github.com/neontribe/gbptm/commit/9181c05))
* humanize access values ([9eba606](https://github.com/neontribe/gbptm/commit/9eba606)), closes [#219](https://github.com/neontribe/gbptm/issues/219)
* humanize distances ([0c4a3aa](https://github.com/neontribe/gbptm/commit/0c4a3aa)), closes [#280](https://github.com/neontribe/gbptm/issues/280)
* include all non-blacklisted properties ([f4e1acb](https://github.com/neontribe/gbptm/commit/f4e1acb))
* include object.entries polyfill for IE ([c200f01](https://github.com/neontribe/gbptm/commit/c200f01))
* indentation style in CSS so we can build ([e00d4eb](https://github.com/neontribe/gbptm/commit/e00d4eb))
* number loos on only the Home and About page ([ad0f25e](https://github.com/neontribe/gbptm/commit/ad0f25e))
* opt-in to humanize instead of opt-out, with the right properties ([6d1dd1d](https://github.com/neontribe/gbptm/commit/6d1dd1d))
* pander to an edge case in our data ([821f187](https://github.com/neontribe/gbptm/commit/821f187))
* point PWAs to the right route ([3dfd4d4](https://github.com/neontribe/gbptm/commit/3dfd4d4))
* prioritise mobile user QOL by starting from their current loc ([58a9726](https://github.com/neontribe/gbptm/commit/58a9726))
* remove buggy fullscreen feature ([c565340](https://github.com/neontribe/gbptm/commit/c565340))
* remove quantity and prefer fixed distance limit for nearby loos ([0be93ae](https://github.com/neontribe/gbptm/commit/0be93ae))
* show back button in PWA ([36b2777](https://github.com/neontribe/gbptm/commit/36b2777))
* show newlines in loo property values ([5aa44d2](https://github.com/neontribe/gbptm/commit/5aa44d2))
* stable per-loo key in list ([ec2ac7e](https://github.com/neontribe/gbptm/commit/ec2ac7e))
* styling of numbered markers on displays marked by leaflet as retina ([01c89db](https://github.com/neontribe/gbptm/commit/01c89db))
* styling of PWA icons and niceties ([3b72064](https://github.com/neontribe/gbptm/commit/3b72064))
* temporary fix for z-indexes in staging ([4215a00](https://github.com/neontribe/gbptm/commit/4215a00))
* tidy up unnecessary bindings ([b288edb](https://github.com/neontribe/gbptm/commit/b288edb))
* update center when we jump between loos ([15228f5](https://github.com/neontribe/gbptm/commit/15228f5))
* use config to show/hide back nav ([3277b5d](https://github.com/neontribe/gbptm/commit/3277b5d)), closes [#230](https://github.com/neontribe/gbptm/issues/230)
* use loadingNearby state to show loading indicator ([38bde0a](https://github.com/neontribe/gbptm/commit/38bde0a))
* use refs in accordance to withRouter's docs ([20e5caf](https://github.com/neontribe/gbptm/commit/20e5caf))
* use word toilet instead of loo in text ([90f4dc8](https://github.com/neontribe/gbptm/commit/90f4dc8))
* we don't fetch geohash for now, don't use it for comparisons ([7ee9a0f](https://github.com/neontribe/gbptm/commit/7ee9a0f))


### Features

* add a visible loading indicator for mobile users ([31443ac](https://github.com/neontribe/gbptm/commit/31443ac))
* add analytics for page views ([a88f806](https://github.com/neontribe/gbptm/commit/a88f806)), closes [#290](https://github.com/neontribe/gbptm/issues/290)
* add example.env file ([05f7225](https://github.com/neontribe/gbptm/commit/05f7225))
* apply disabled button styles ([df9032d](https://github.com/neontribe/gbptm/commit/df9032d))
* apply loo number styling ([0c5c2e6](https://github.com/neontribe/gbptm/commit/0c5c2e6))
* bg image for auth0 login widget ([29816e2](https://github.com/neontribe/gbptm/commit/29816e2))
* connect to cross-app auth ([fd74bc9](https://github.com/neontribe/gbptm/commit/fd74bc9))
* connect to cross-app auth ([c23efac](https://github.com/neontribe/gbptm/commit/c23efac))
* crudely number nearest loos on map ([0ff80c7](https://github.com/neontribe/gbptm/commit/0ff80c7))
* enable cors requests ([049b9b8](https://github.com/neontribe/gbptm/commit/049b9b8))
* link to directions on loo page ([46a0491](https://github.com/neontribe/gbptm/commit/46a0491))
* prefer walking directions ([cfaf3d4](https://github.com/neontribe/gbptm/commit/cfaf3d4))
* publish a circular logo ([4c32752](https://github.com/neontribe/gbptm/commit/4c32752))
* replace center marker circle with crosshair ([a136572](https://github.com/neontribe/gbptm/commit/a136572))
* scope panning and zooming abilities in a friendly & consistent way ([f6c5ff0](https://github.com/neontribe/gbptm/commit/f6c5ff0))
* show loading indicator when talking to the loo api ([8ff8b5f](https://github.com/neontribe/gbptm/commit/8ff8b5f))
* show loo numbers in list and small fixes ([b995d1a](https://github.com/neontribe/gbptm/commit/b995d1a))
* show nearest loos everywhere ([f65a809](https://github.com/neontribe/gbptm/commit/f65a809)), closes [#228](https://github.com/neontribe/gbptm/issues/228) [#237](https://github.com/neontribe/gbptm/issues/237)
* update about page ([1cbafc6](https://github.com/neontribe/gbptm/commit/1cbafc6))


### Performance Improvements

* check geohashes for equality instead of deep checking geometry ([4d9d215](https://github.com/neontribe/gbptm/commit/4d9d215))
* only remove and add the markers we need to ([b2ac95f](https://github.com/neontribe/gbptm/commit/b2ac95f))
* only submit novel data in loo reports ([1c7cdf0](https://github.com/neontribe/gbptm/commit/1c7cdf0))
* optimise svgs ([bb58355](https://github.com/neontribe/gbptm/commit/bb58355)), closes [#254](https://github.com/neontribe/gbptm/issues/254)




<a name="2.2.0"></a>
# [2.2.0](https://github.com/neontribe/gbptm/compare/v2.1.0...v2.2.0) (2018-07-03)


### Bug Fixes

* boost loo distance z-index ([9b4a133](https://github.com/neontribe/gbptm/commit/9b4a133))
* improve geocoder styling ([ebf1971](https://github.com/neontribe/gbptm/commit/ebf1971))




<a name="2.1.0"></a>
# [2.1.0](https://github.com/neontribe/gbptm/compare/v0.0.5...v2.1.0) (2018-07-02)


### Bug Fixes

* adjust z-index so crosshair is visible ([903f03d](https://github.com/neontribe/gbptm/commit/903f03d)), closes [#180](https://github.com/neontribe/gbptm/issues/180)
* cleanup navigation ([6be1eb8](https://github.com/neontribe/gbptm/commit/6be1eb8))
* fetch single loo data correctly ([82daaa1](https://github.com/neontribe/gbptm/commit/82daaa1))
* head add/edit page appropriately to action ([69ccc74](https://github.com/neontribe/gbptm/commit/69ccc74))
* keep language consistent ([4daf63b](https://github.com/neontribe/gbptm/commit/4daf63b))
* keep state between nearest/add/edit map views ([bfca3d1](https://github.com/neontribe/gbptm/commit/bfca3d1)), closes [#201](https://github.com/neontribe/gbptm/issues/201) [#203](https://github.com/neontribe/gbptm/issues/203) [#183](https://github.com/neontribe/gbptm/issues/183)
* lightweight opening-hours ([2ccfc3b](https://github.com/neontribe/gbptm/commit/2ccfc3b)), closes [#182](https://github.com/neontribe/gbptm/issues/182)
* minor typo correction ([2308177](https://github.com/neontribe/gbptm/commit/2308177))
* nudge distance indicator z-index ([501ac76](https://github.com/neontribe/gbptm/commit/501ac76))
* only submit viable properties ([41902cf](https://github.com/neontribe/gbptm/commit/41902cf))
* polyfill Array.includes for IE11 ([e2c52d1](https://github.com/neontribe/gbptm/commit/e2c52d1))
* polyfill String.repeat for IE11 ([6f16c4c](https://github.com/neontribe/gbptm/commit/6f16c4c))
* remove donate and testing login buttons ([1094365](https://github.com/neontribe/gbptm/commit/1094365))
* renable opening_hours in UI ([64b8ba2](https://github.com/neontribe/gbptm/commit/64b8ba2))
* silly reversed ternary ([5944660](https://github.com/neontribe/gbptm/commit/5944660))
* suppress double request on app start ([cfc7218](https://github.com/neontribe/gbptm/commit/cfc7218)), closes [#181](https://github.com/neontribe/gbptm/issues/181)


### Features

* favico and service worker ([d081683](https://github.com/neontribe/gbptm/commit/d081683))
* include admin ui ([9db1036](https://github.com/neontribe/gbptm/commit/9db1036))
* pwa essentials ([6643f93](https://github.com/neontribe/gbptm/commit/6643f93))
* react-router + auth0 ([3a26cc2](https://github.com/neontribe/gbptm/commit/3a26cc2))
