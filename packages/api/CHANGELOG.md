# Change Log

All notable changes to this project will be documented in this file.
See [Conventional Commits](https://conventionalcommits.org) for commit guidelines.

# [3.1.0](https://github.com/neontribe/gbptm/compare/v3.0.0...v3.1.0) (2019-11-28)

**Note:** Version bump only for package @toiletmap/api





# [3.0.0](https://github.com/neontribe/gbptm/compare/v2.9.0...v3.0.0) (2019-10-14)


### Bug Fixes

* access geometry correctly ([76f040c](https://github.com/neontribe/gbptm/commit/76f040c))
* allow introspection queries ([838e139](https://github.com/neontribe/gbptm/commit/838e139))
* better redirect ([9481c54](https://github.com/neontribe/gbptm/commit/9481c54))
* default value to null ([3df23c9](https://github.com/neontribe/gbptm/commit/3df23c9))
* dep updates ([6bfd9d8](https://github.com/neontribe/gbptm/commit/6bfd9d8))
* dependency updates ([3f75a8c](https://github.com/neontribe/gbptm/commit/3f75a8c))
* dependency updates ([3980464](https://github.com/neontribe/gbptm/commit/3980464))
* deps ([db634d6](https://github.com/neontribe/gbptm/commit/db634d6))
* deps ([8e60716](https://github.com/neontribe/gbptm/commit/8e60716))
* look for an existing ID, use generated as fallback ([849d867](https://github.com/neontribe/gbptm/commit/849d867))
* manage timestamps ([0d1a96b](https://github.com/neontribe/gbptm/commit/0d1a96b))
* migrate statistics ([d082303](https://github.com/neontribe/gbptm/commit/d082303))
* update dependencies ([dc0369e](https://github.com/neontribe/gbptm/commit/dc0369e))
* update dependencies ([c89240f](https://github.com/neontribe/gbptm/commit/c89240f))
* updeps ([d283a31](https://github.com/neontribe/gbptm/commit/d283a31))


### Features

* [WIP] move search to graphql interface ([fdb1380](https://github.com/neontribe/gbptm/commit/fdb1380))
* add a graphql search interface for the explorer search ([ef815d0](https://github.com/neontribe/gbptm/commit/ef815d0))
* add auth and redaction for graphql ([b1069f4](https://github.com/neontribe/gbptm/commit/b1069f4))
* add filter for active loos ([9c55c1b](https://github.com/neontribe/gbptm/commit/9c55c1b))
* add vestigial search entrypoint ([73e8134](https://github.com/neontribe/gbptm/commit/73e8134))
* add voyager ([c3e0460](https://github.com/neontribe/gbptm/commit/c3e0460))
* allow contributors to be queried through GraphQL ([fbaad6f](https://github.com/neontribe/gbptm/commit/fbaad6f))
* BREAKING! replace old schema imports with new ([b9bfea8](https://github.com/neontribe/gbptm/commit/b9bfea8))
* cleaner schema ([e8519c4](https://github.com/neontribe/gbptm/commit/e8519c4))
* deprecate area statistics REST API ([1f66a4f](https://github.com/neontribe/gbptm/commit/1f66a4f))
* deprecate counters REST API ([3929c8d](https://github.com/neontribe/gbptm/commit/3929c8d))
* deprecate proportions REST API ([09bc8cf](https://github.com/neontribe/gbptm/commit/09bc8cf))
* enable apollo engine monitoring ([e154fcd](https://github.com/neontribe/gbptm/commit/e154fcd))
* enable apollo engine monitoring ([7061c62](https://github.com/neontribe/gbptm/commit/7061c62))
* get loo from report ([22e8d7e](https://github.com/neontribe/gbptm/commit/22e8d7e))
* graphql+ts client ([0d35ac1](https://github.com/neontribe/gbptm/commit/0d35ac1))
* implement mutation resolver for submitReport ([7b4fa94](https://github.com/neontribe/gbptm/commit/7b4fa94))
* initial graphql implementation ([071c2a5](https://github.com/neontribe/gbptm/commit/071c2a5))
* move admin to explorer ([db4dded](https://github.com/neontribe/gbptm/commit/db4dded))
* move area statistics to graphql API ([fdd5c92](https://github.com/neontribe/gbptm/commit/fdd5c92))
* move explorer search to graphql interface ([72df97b](https://github.com/neontribe/gbptm/commit/72df97b))
* move proportions to graphql API ([517f390](https://github.com/neontribe/gbptm/commit/517f390))
* move to new data structures ([ab17e0e](https://github.com/neontribe/gbptm/commit/ab17e0e))
* removal reports in graphql ([5e763a0](https://github.com/neontribe/gbptm/commit/5e763a0))
* submitReport schema ([00d73c9](https://github.com/neontribe/gbptm/commit/00d73c9))
* support old api users for now ([3b5e7df](https://github.com/neontribe/gbptm/commit/3b5e7df))
* switch counters to graphql interface ([4a27165](https://github.com/neontribe/gbptm/commit/4a27165))


### BREAKING CHANGES

* requires full database migration, see the migrate
package





# [2.9.0](https://github.com/neontribe/gbptm/compare/v2.8.0...v2.9.0) (2018-11-27)


### Bug Fixes

* update deps ([b05e25f](https://github.com/neontribe/gbptm/commit/b05e25f))





# [2.8.0](https://github.com/neontribe/gbptm/compare/v2.7.0...v2.8.0) (2018-10-11)

**Note:** Version bump only for package @toiletmap/api





<a name="2.7.0"></a>
# [2.7.0](https://github.com/neontribe/gbptm/compare/v2.6.0...v2.7.0) (2018-09-08)


### Bug Fixes

* update deps ([7190702](https://github.com/neontribe/gbptm/commit/7190702))


### Features

* add dropdown box for contributor search ([e42e52e](https://github.com/neontribe/gbptm/commit/e42e52e))
* implement a loo detail page ([a36e24e](https://github.com/neontribe/gbptm/commit/a36e24e))
* order by updatedAt, filter by updatedAt ([604a62b](https://github.com/neontribe/gbptm/commit/604a62b))





<a name="2.6.0"></a>
# [2.6.0](https://github.com/neontribe/gbptm/compare/v2.5.0...v2.6.0) (2018-08-24)


### Features

* add points to full loolist ([a18d445](https://github.com/neontribe/gbptm/commit/a18d445))




<a name="2.5.0"></a>
# [2.5.0](https://github.com/neontribe/gbptm/compare/v2.4.0...v2.5.0) (2018-08-06)


### Features

* redirect all traffic to www.toiletmap.org.uk ([ef90d29](https://github.com/neontribe/gbptm/commit/ef90d29))




<a name="2.4.0"></a>
# [2.4.0](https://github.com/neontribe/gbptm/compare/v2.3.0...v2.4.0) (2018-08-02)


### Bug Fixes

* package upgrades ([be89ceb](https://github.com/neontribe/gbptm/commit/be89ceb))


### Features

* add newrelic monitoring to the api ([8c95a80](https://github.com/neontribe/gbptm/commit/8c95a80))




<a name="2.3.0"></a>
# [2.3.0](https://github.com/neontribe/gbptm/compare/v2.2.0...v2.3.0) (2018-08-02)


### Bug Fixes

* bug where geometry was not regenerated ([5c62ea5](https://github.com/neontribe/gbptm/commit/5c62ea5))
* bypass mongo's mandatory geonear limit ([3d5af8c](https://github.com/neontribe/gbptm/commit/3d5af8c))
* correct tests in light of near endpoint changes ([9916d96](https://github.com/neontribe/gbptm/commit/9916d96))
* remove quantity and prefer fixed distance limit for nearby loos ([0be93ae](https://github.com/neontribe/gbptm/commit/0be93ae))
* use metres instead of our incorrect angles in geo queries ([298fa95](https://github.com/neontribe/gbptm/commit/298fa95))


### Features

* connect to cross-app auth ([c23efac](https://github.com/neontribe/gbptm/commit/c23efac))
* enable cors requests ([049b9b8](https://github.com/neontribe/gbptm/commit/049b9b8))


### Performance Improvements

* reduce Loo properties sent to front-end in near requests ([d4a694c](https://github.com/neontribe/gbptm/commit/d4a694c))




<a name="2.2.0"></a>
# [2.2.0](https://github.com/neontribe/gbptm/compare/v2.1.0...v2.2.0) (2018-07-03)


### Features

* redirect to https in production ([da86c96](https://github.com/neontribe/gbptm/commit/da86c96))




<a name="2.1.0"></a>
# [2.1.0](https://github.com/neontribe/gbptm/compare/v0.0.5...v2.1.0) (2018-07-02)


### Bug Fixes

* fetch single loo data correctly ([82daaa1](https://github.com/neontribe/gbptm/commit/82daaa1))
* path stats route correctly ([ce6be86](https://github.com/neontribe/gbptm/commit/ce6be86))
* update mongoose ([4b4eee9](https://github.com/neontribe/gbptm/commit/4b4eee9))


### Features

* don't stack reports ([c02cb50](https://github.com/neontribe/gbptm/commit/c02cb50))
* include admin ui ([9db1036](https://github.com/neontribe/gbptm/commit/9db1036))
* react-router + auth0 ([3a26cc2](https://github.com/neontribe/gbptm/commit/3a26cc2))
